<!DOCTYPE html>
<html lang="in">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="theme-color" content="#e2d626"/>
    <meta property="og:title" content="G90NF">
    <meta property="og:description" content="Kreatif Page G90NF">
    <meta property="og:image" content="https://g90nf.kezt.my.id/upload/image/g90-kreatif-logo-16-9.jpg">
    <link rel="shortcut icon" href="https://i.imgur.com/ggIjVZ6.jpeg" type="image/x-icon">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="style3.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://kit.fontawesome.com/55100b01de.js" crossorigin="anonymous"></script>
    <script src="../script.js"></script>
    <script src="script.js"></script>
    <title>Book - G90 Kreatif</title>
</head>
<body>
    <img style="margin-top: 40px; width: 100%;" src="https://g90nf.kezt.my.id/upload/image/ayo-upload-buku-kamu-dig90-kreatif.png" alt="iklan">
    <section class="section-kreatif-1" id="fileList">
        
    </section>

    <div class="header-search">
        <div id="searchGroupHeader" class="group-search">
            <input type="search" class="search-inputku" id="search-input" placeholder="Cari buku...">
            <button id="search-button" class="button-inputku"><i class="fa fa-search"></i></button>
        </div>
        <button onclick="openCloseButtonNavSearch()"><i class="fa fa-arrow-circle-up"></i></button>
    </div>
    
    <header style="background: #fff;">
        <div class="headermenu">
            <a class="barsbut" id="opennavigasi"><i id="buttonsidebari" class="fa fa-bars"></i></a>
            <img src="https://g90nf.kezt.my.id/upload/image/g90-kreatif.jpg" alt="Logo G90 PNG - Latar Belakang">
            <a href="../search.html" class="whatsappbut"><i class="fa fa-search"></i></a>
        </div>
        <div id="sidebarnav" class="sidebarnav">
            <div id="menuheader" class="menuheader">
                <a id="closenavigasi" style="float: left; font-size: 20px;"><i class="fa fa-times"></i></a>
                <a href="../report.html" style="float: right;"><i class="fa fa-exclamation-circle"></i></a>
            </div>
            <p>G90-NF</p>
            <a href="../home.html"><i class="fa fa-home"></i> Home</a>
            <a href="../rules.html"><i class="fa fa-scroll"></i> Rules</a>
            <a href="../admin.html"><i class="fa fa-person"></i> Admin</a>
            <a href="../news.html"><i class="fa fa-newspaper"></i> News</a>
            <a href="../event.html"><i class="fa fa-calendar-day"></i> Event</a>
            <a href="../game.html"><i class="fa fa-gamepad"></i> Games</a>
            <a href="../galery.html"><i class="fa fa-images"></i> Galery</a>
            <a href="index.html"><i class="fa fa-lightbulb"></i> G90-Kreatif</a>
        </div>
        <div class="barsdesktop">
            <ul>
                <img src="https://g90nf.kezt.my.id/upload/image/g90-kreatif.jpg" alt="Logo">
                <li><a class="menuhalaman" href="../home.html">Home</a></li>
                <li><a class="menuhalaman" href="../rules.html">Rules</a></li>
                <li><a class="menuhalaman" href="../admin.html">Admin</a></li>
                <li><a class="menuhalaman" href="../news.html">News</a></li>
                <li><a class="menuhalaman" href="../event.html">Event</a></li>
                <li><a class="menuhalaman" href="../game.html">Games</a></li>
                <li><a class="menuhalaman" href="../galery.html">Galery</a></li>
                <li><a class="menuhalaman" href="index.html">G90-Kreatif</a></li>
                <li><a class="submenu" href="../report.html"><i class="fa fa-exclamation-circle"></i></a></li>
                <li><a class="submenu" href="../search.html"><i class="fa fa-search"></i></a></li>
            </ul>
        </div>
    </header>
    
    <section class="akhiran">
        <h1>G90NF</h1>
        <p>G90 adalah grup negara fiksi kelas menengah dengan jumlah anggota 100+,organisasi di buat dengan tujuan Ekonomi,pertahanan,pembangunan,dan komunikasi atau kerjasama antar negara fiksi 
Organisasi ini di buat pada tanggal 17 Juni 2022</p>
        <div class="contentakhiran">
            <p>Project</p>
            <a href="g90nf.apk">Download</a>
            <a href="">Refresh</a>
        </div>
        <div class="contentakhiran">
            <p>Suport</p>
            <a href="https://kezt.id">Kezt</a>
            <a href="https://chat.whatsapp.com/H0twEacfDpC3kfW33zX0HS">Contact</a>
        </div>
        <section class="sosialmedia">
            <a href="https://youtube.com/@G90negarafiksiOfficial?si=8r9YAZ20dHn5ch7E"><i class="fa-brands fa-youtube"></i></a>
            <a href="https://chat.whatsapp.com/H0twEacfDpC3kfW33zX0HS"><i class="fa-brands fa-whatsapp"></i></a>
            <a href="https://www.tiktok.com/@g90_official_negarafiksi?_t=8kf4rqA35dv&_r=1"><i class="fa-brands fa-tiktok"></i></a>
        </section>
        <p>Â©G90NegaraFiksi</p>
    </section>
    
    <script>
const usernameBP = 'jajskaoowoeixnmamqporisna';
const repoBP = 'jajskaoowoeixnmamqporisna.github.io';
const folderPathBP = 'kreatif/book'; // Path to your folder

// Function to fetch and display file contents
async function readGitHubFiles() {
    const fileList = document.getElementById('fileList');

    try {
        const response = await fetch(`https://api.github.com/repos/${usernameBP}/${repoBP}/contents/${folderPathBP}`);
        const files = await response.json();

        for (const file of files) {
            if (file.type === 'file' && file.name.endsWith('.html')) { // Filter hanya file dengan ekstensi .html
                const fileResponse = await fetch(file.download_url);
                const fileContent = await fileResponse.text();

                // Parse the HTML content to extract specific elements
                const parser = new DOMParser();
                const doc = parser.parseFromString(fileContent, 'text/html');
                const nameBook = doc.querySelector('p#nameBook');
                const deskripsi = doc.querySelector('p#deskripsi');
                const genreBook = doc.querySelector('p#genreBook');
                const usernameElement = doc.querySelector('p.username');
                const elementsWithBackground = doc.querySelectorAll('[style*="background: url"]');

                let innerHTMLContent = '';

                if (nameBook) {
                    innerHTMLContent += `<h3>${nameBook.innerHTML}</h3>`;
                } else {
                    innerHTMLContent += `<h3>Nama buku: Tidak ada</h3>`;
                }
                if (deskripsi) {
                    innerHTMLContent += `<p>Deskripsi: ${deskripsi.innerHTML}</p>`;
                } else {
                    innerHTMLContent += `<p>Deskripsi: Tidak ada</p>`;
                }
                if (genreBook) {
                    innerHTMLContent += `<p>Genre: ${genreBook.innerHTML}</p>`;
                } else {
                    innerHTMLContent += `<p>Genre: Tidak ada</p>`;
                }
                if (usernameElement) {
                    innerHTMLContent += `<p>Username: ${usernameElement.innerHTML}</p>`;
                } else {
                    innerHTMLContent += `<p>Username: Tidak ada</p>`;
                }

                let innerHTMLImage = '';

                elementsWithBackground.forEach(element => {
                    const style = element.getAttribute('style');
                    const urlMatch = style.match(/background:\s*url\(['"]?(.*?)['"]?\)/);
                    if (urlMatch && urlMatch[1]) {
                        const backgroundUrl = urlMatch[1];
                        innerHTMLImage += `<img src="${backgroundUrl}" alt="Background Image">`;
                    }
                });

                if (!nameBook && !deskripsi && !genreBook && !usernameElement && elementsWithBackground.length === 0) {
                    innerHTMLContent += `<p>Element with specified ID/class or background URL not found</p>`;
                }

                // Set innerHTML of fileList directly
                const fileContainer = `<div class="search-item" onclick="navigateToDetailPage('${file.name}')">
                    ${innerHTMLImage}
                    <div class="text-kreatid-book">
                        ${innerHTMLContent}
                    </div>
                </div>`;

                fileList.innerHTML += fileContainer;
            }
        }
    } catch (error) {
        console.error('Error fetching files:', error);
    }
}

// Function to navigate to detail page
function navigateToDetailPage(fileName) {
    window.location.href = `https://G90NF.kezt.my.id/kreatif/book/${fileName}`;
}

// Search functionality
document.getElementById('search-input').addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
        event.preventDefault();
        performSearch();
    }
});

document.getElementById('search-button').addEventListener('click', performSearch);

function performSearch() {
    var searchQuery = document.getElementById('search-input').value.trim().toLowerCase(); // Trim whitespace
    var items = document.querySelectorAll('.search-item');

    items.forEach(function(item) {
        var title = item.querySelector('h3').textContent.toLowerCase(); // Adjust selector as needed
        var description = item.querySelector('p').textContent.toLowerCase(); // Adjust selector as needed

        if (title.includes(searchQuery) || description.includes(searchQuery)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    });
}

// Toggle search button
function openCloseButtonNavSearch() {
    var openCloseButtonNavDivButInput = document.getElementById("searchGroupHeader");
    if (openCloseButtonNavDivButInput.style.height === "40px") {
        openCloseButtonNavDivButInput.style.height = "0px";
    } else {
        openCloseButtonNavDivButInput.style.height = "40px";
    }
}

// Call the function to fetch and display files when the page loads
window.onload = readGitHubFiles;
</script>
</body>
</html>
